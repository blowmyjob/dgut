<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>注册</title>
  <link rel="stylesheet" type="text/css" th:href="@{./css/login.css}">
</head>
<body>
<div class="htmleaf-container">
  <div class="wrapper">
    <div class="container">
      <h2>Welcome</h2>
      <form class="form" id="form-article-add">
          <input name="userName" type="text" id="userName" placeholder="请输入用户名">
          <select th:width="250px" placeholder="请选择用户角色" name="role" id="role">
            <option value="HR">招聘方</option>
            <option value="USER">应聘方</option>
            <option value="ADMIN">管理员</option>
          </select>
          <input name="passWord1" type="password" id="passsWord1" placeholder="请输入密码">
          <input name="passWord2" type="password" id="passsWord2" placeholder="请再输入密码">
          <button type="button" id="submitAdd">注册</button>
      </form>
    </div>

    <ul class="bg-bubbles">
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
    </ul>
  </div>
</div>

<script th:src="@{./lib/jquery/1.9.1/jquery.min.js}" type="text/javascript"></script>
<script type="text/javascript" th:inline="javascript">
  $("#submitAdd").click(function(){
    var data = $("#form-article-add").serialize();
    var userName = $("userName").val();
    var password1 = $("password1").val();
    var password2 = $("password2").val();
    var role = $("role").val();
    console.log("表单序列化=============="+data+" , "+userName);
    if(userName == ""){
      return;
    }else if(password1 == '' || password2 == ''){
      return;
    }else if(password1 != password2){
      return ;
    }else if(role ==''){
      return ;
    }
    $.ajax({
      type:'post',
      url:'resigter',
      cache: false,
      data:data,  //重点必须为一个变量如：data
      dataType:'json',
      success:function(data){
        if(data == 200){
          alert("注册成功！");

        }else if(data == 201){
          alert("已被注册！")
        }
      },
      error:function(){
        alert("请求失败")
      }
    })

  })
</script>
<div style="text-align:center;margin:50px 0; font:normal 14px/24px 'MicroSoft YaHei';color:#000000">
  <h1>在线面试系统</h1>
</div>
</body>
</html>
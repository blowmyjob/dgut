<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>注册</title>
  <link rel="stylesheet" type="text/css" th:href="@{./css/login.css}">
</head>
<body>
<div class="htmleaf-container">
  <div class="wrapper">
    <div class="container">
      <h2>Welcome</h2>
      <form class="form" id="form-article-add">
          <input name="userName" type="text" placeholder="请输入用户名">
          <select th:width="250px" placeholder="请选择用户角色" name="role">
            <option value="HR">招聘方</option>
            <option value="USER">应聘方</option>
          </select>
          <input name="passWord1" type="password" id="passsWord1" placeholder="请输入密码">
          <input name="passWord2" type="password" id="passsWord2" placeholder="请再输入密码">
        <button type="submit" id="submitAdd">Resigter</button>
      </form>
    </div>

    <ul class="bg-bubbles">
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
    </ul>
  </div>
</div>

<script th:src="@{./lib/jquery/1.9.1/jquery.min.js}" type="text/javascript"></script>
<script>
  $(function() {
    $("#submitAdd").on('click', function() {
        var passwd1 = $("#passsWord1").val();
        var passwd2 = $("#passsWord2").val();
        if(passwd1 != passwd2){
            alert("两次输入的密码不一致！");
            return ;
        }
        $.ajax({
            type: "POST",//方法类型
            dataType: "json",//预期服务器返回的数据类型
            url: "/resigter",//url
            data: $('#form-article-add').serialize(),
            success: function (result) {
                console.log(result);//打印服务端返回的数据(调试用)
                if (result== 200) {
                    alert("注册成功");
                  window.location.replace("http://localhost:8763/fore");

                }else if(result == 201){
                    alert("用户名已被注册，请重新换一个");
                };
            },
            error : function() {
                alert("异常！");
            }
        });
    })
  })
</script>
<div style="text-align:center;margin:50px 0; font:normal 14px/24px 'MicroSoft YaHei';color:#000000">
  <h1>在线面试系统</h1>
</div>
</body>
</html>